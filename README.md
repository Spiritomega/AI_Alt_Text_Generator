
# Image Captioning and Compression Script

This Python script is a powerful tool for managing large collections of images for websites and apps. It automatically generates alt text for multiple images using computer vision, making them more accessible and improving SEO. Additionally, it compresses images without compromising quality, ensuring faster load times and optimal performance for platforms with several images.

### Key Highlights:
- **Alt Text Generation**: Uses AI to create meaningful alt text for images, enhancing accessibility and search visibility.
- **Image Compression**: Resizes and optimizes images while maintaining high quality, making them suitable for web and app use.
- **Metadata Integration**: Adds descriptions and alt text directly into the image's metadata for seamless organization.
- **Batch Processing**: Handles multiple images at once, saving time and effort.

This script is ideal for developers, designers, and content creators looking to streamline image optimization and accessibility.

## Requirements

- Python 3.x
- Required Libraries: `os`, `time`, `Pillow`, `cv2`, `numpy`, `transformers`, `piexif`, `nltk`, `scikit-learn`

Install the required packages with:
```bash
pip install pillow opencv-python-headless numpy transformers piexif nltk scikit-learn
```

Download NLTK stopwords:
```python
import nltk
nltk.download('stopwords')
nltk.download('punkt')
```

## Setup

1. **Clone the Repository**:
   ```bash
   git clone https://github.com/yourusername/image-processing-metadata-enhancement.git
   ```
   Navigate into the project folder:
   ```bash
   cd image-processing-metadata-enhancement
   ```

2. **Pre-Trained Model**:
   - The script uses the `Salesforce/blip-image-captioning-large` model for caption generation. This will automatically download when the script runs.

3. **Directory Structure**:
   - Create the `Images` directory and place all images you want to process within this folder.
   - The script will save resized images with enhanced features to the `output` directory and final images with metadata in the `alt` directory.

4. **Adjust Settings**:
   - Modify `max_width`, `max_height`, and `resize_percentage` to control the maximum size and enhancement settings for the images.
   - Set the `input_dir`, `output_dir`, and `alt_dir` paths as needed for your workflow.

## Usage

Run the script:
```bash
python main.py
```

This will:
1. Resize and enhance images from the `Images` folder, saving results in `output`.
2. Generate captions for images in `output` and save them with metadata in `alt`.

### Metadata Information

- `ImageDescription`: Stores the generated description for easy identification.
- `UserComment`: Stores a subject identifier generated by the model.

## Customization

- **Filename Generation**: Adjust `generate_filename` to modify how filenames are created from descriptions.
- **Caption Generation**: Modify the `max_new_tokens` parameter in `generate` for shorter or longer captions.



